import tkinter as tk
from tkinter import messagebox

class LightingModule:
    def __init__(self):
        self.light_intensities = [0, 25, 50, 75, 100]  # Sample list of light intensities
        self.current_intensity_index = 0
        self.is_light_on = False

    def set_light_intensity(self, intensity_index):
        if 0 <= intensity_index < len(self.light_intensities):
            self.current_intensity_index = intensity_index
            print(f"Light intensity set to {self.light_intensities[self.current_intensity_index]}%")
        else:
            print("Invalid intensity index")

    def get_light_intensity(self):
        return self.light_intensities[self.current_intensity_index]

    def toggle_light(self):
        if self.is_light_on:
            self.turn_off()
        else:
            self.turn_on()

    def turn_on(self):
        self.is_light_on = True
        root.config(bg="green")  # Change window background to green when lights are turned on
        print("Lights turned on in the building.")

    def turn_off(self):
        self.is_light_on = False
        if not emergency.get_emergency_state():
            root.config(bg="white")  # Change window background to white when lights are turned off unless emergency ongoing
        print("Lights turned off in the building.")
